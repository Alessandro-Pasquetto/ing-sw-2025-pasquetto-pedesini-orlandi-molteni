<?xml version="1.0" encoding="UTF-8"?>

<?import java.net.*?>
<?import javafx.geometry.*?>
<?import javafx.scene.control.*?>
<?import javafx.scene.image.*?>
<?import javafx.scene.layout.*?>

<StackPane fx:id="buildingPane" xmlns="http://javafx.com/javafx/17.0.12" xmlns:fx="http://javafx.com/fxml/1" fx:controller="org.progetto.client.gui.BuildingView">

    <stylesheets>
        <URL value="@style/style.css" />
    </stylesheets>

    <ScrollPane fx:id="buildingScrollPane" fitToWidth="true" fitToHeight="true" vbarPolicy="AS_NEEDED" hbarPolicy="AS_NEEDED">
        <BorderPane maxHeight="Infinity" maxWidth="Infinity" fx:id="buildingBorderPane">

            <left>
                <VBox alignment="CENTER" minWidth="410.0" spacing="15" BorderPane.alignment="CENTER">
                    <VBox fx:id="playerListViewContainer" alignment="TOP_LEFT" spacing="20" VBox.vgrow="ALWAYS">
                        <Label fx:id="activePlayersLabel" text="Active players" />
                        <ListView fx:id="playerListView" maxHeight="Infinity" VBox.vgrow="ALWAYS" />

                        <VBox.margin>
                            <Insets bottom="15.0" />
                        </VBox.margin>
                    </VBox>

                    <Pane fx:id="handComponentBox" minWidth="100.0" minHeight="100.0" maxWidth="100.0" maxHeight="100.0" >
                        <VBox.margin>
                            <Insets bottom="10.0" />
                        </VBox.margin>
                    </Pane>
                    <Button onAction="#pickHiddenComponent" text="Pick Component" />
                    <Button onAction="#discardComponent" text="Discard Component" />
                    <Button onAction="#rotateComponent" text="Rotate" />
                </VBox>
            </left>

            <right>
                <VBox alignment="CENTER_RIGHT" minWidth="410.0" BorderPane.alignment="CENTER" VBox.vgrow="ALWAYS">
                    <VBox fx:id="discardedComponentsListWrapper" alignment="TOP_LEFT" spacing="20" VBox.vgrow="ALWAYS" maxWidth="390.0">
                        <Label fx:id="buildingSectionTitle" text="Discarded components" wrapText="true" />
                        <ScrollPane fx:id="discardedComponentsScrollPane"
                                    maxWidth="390.0"
                                    hbarPolicy="NEVER"
                                    vbarPolicy="AS_NEEDED"
                                    VBox.vgrow="ALWAYS">
                            <GridPane fx:id="discardedComponentsList"
                                      alignment="TOP_CENTER"
                                      hgap="10"
                                      vgap="10"
                                      maxWidth="390.0"
                                      VBox.vgrow="ALWAYS" />
                        </ScrollPane>
                    </VBox>
                </VBox>
            </right>

            <top>
                <HBox fx:id="timerContainer" spacing="10" alignment="CENTER">
                    <Label fx:id="timerLabel" text="00:00" textFill="#eba52d" />
                    <Button fx:id="timerButton" onAction="#resetTimer" text="Reset Timer" />
<!--                    <ImageView fx:id="BoxImage" fitHeight="35" fitWidth="35">-->
<!--                        <image>-->
<!--                            <Image url="@img/items/GreenBox.png" />-->
<!--                        </image>-->
<!--                    </ImageView>-->
<!--                    <ImageView fx:id="CrewImage" fitHeight="35" fitWidth="35">-->
<!--                        <image>-->
<!--                            <Image url="@img/items/CrewMate_icon.png" />-->
<!--                        </image>-->
<!--                    </ImageView>-->
<!--                    <ImageView fx:id="AlienImage" fitHeight="35" fitWidth="35">-->
<!--                        <image>-->
<!--                            <Image url="@img/items/OrangeAlien.png" />-->
<!--                        </image>-->
<!--                    </ImageView>-->
<!--                    <ImageView fx:id="BatteryImage" fitHeight="45" fitWidth="18">-->
<!--                        <image>-->
<!--                            <Image url="@img/items/Battery_icon.png" />-->
<!--                        </image>-->
<!--                    </ImageView>-->
                </HBox>
            </top>

            <center>
                <VBox BorderPane.alignment="CENTER" VBox.vgrow="ALWAYS" spacing="20" alignment="CENTER" style="-fx-padding: 25px">
                    <StackPane alignment="CENTER">
                        <ImageView fx:id="spaceShipImage" fitHeight="554.0" fitWidth="757.0" preserveRatio="true" style="-fx-border-radius: 8; -fx-background-radius: 8" />
                        <GridPane fx:id="spaceshipMatrix" alignment="CENTER" hgap="1.0" vgap="1.0" />
                        <GridPane fx:id="bookedArray" alignment="CENTER" maxHeight="100.0" maxWidth="200.0" translateX="265" translateY="-209">
                            <Pane prefHeight="100.0" prefWidth="100.0" GridPane.columnIndex="0" />
                            <Pane prefHeight="100.0" prefWidth="100.0" GridPane.columnIndex="1" />
                        </GridPane>
                    </StackPane>

                    <HBox fx:id="eventCardBox" alignment="CENTER" spacing="30">
                        <ImageView fx:id="deck0Image" fitHeight="200" fitWidth="130" style="-fx-border-radius: 8; -fx-background-radius: 8" />
                        <ImageView fx:id="deck1Image" fitHeight="200" fitWidth="130" style="-fx-border-radius: 8; -fx-background-radius: 8" />
                        <ImageView fx:id="deck2Image" fitHeight="200" fitWidth="130" style="-fx-border-radius: 8; -fx-background-radius: 8" />
                    </HBox>
                </VBox>
            </center>

            <bottom>
                <VBox alignment="CENTER">
                    <HBox alignment="CENTER" spacing="10">
                        <Button minHeight="34.0" minWidth="157.0" onAction="#placeHandComponentAndReady" text="Ready"></Button>
                        <VBox.margin>
                           <Insets bottom="30.0" top="30.0" />
                        </VBox.margin>
                    </HBox>
                </VBox>
            </bottom>
        </BorderPane>
    </ScrollPane>

    <!-- Event card display -->
    <HBox fx:id="eventCardDisplay" alignment="CENTER" mouseTransparent="true" onMouseClicked="#putDownDeck" spacing="10" visible="false" StackPane.alignment="CENTER">
        <HBox fx:id="eventCardContainer" alignment="CENTER" spacing="25" />
    </HBox>

</StackPane>
