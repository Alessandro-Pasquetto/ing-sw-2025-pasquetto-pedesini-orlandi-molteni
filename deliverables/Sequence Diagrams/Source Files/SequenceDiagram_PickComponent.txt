title Pick Component

participant Client
participant Server
participant Game
participant Player
participant Spaceship
participant BuildingBoard
participant Component


alt PickHiddenComponent

  Client-->Server:"PickHiddenComponent"
  Server->Game: PickHiddenComponent(player)
  Game->Game: removeFromDeckComponent(randomPos)
  Game->Player:
  Player->Spaceship:getSpaceship()
  Spaceship->BuildingBoard:getBuildingBoard()
  BuildingBoard->BuildingBoard: setHandComponent(pickedComponent)
  BuildingBoard->Component:getImgSrc()

  Server->Client: PickedComponentMessage(imgSrcComponent)

else PickVisibleComponent

  Client-->Server:"PickVisibleComponent", idxVisibleComponent
  Server->Game: PickVisibleComponent(player, idxVisibleComponent)
  Game->Game: removeFromVisibleDeckComponent(idxVisibleComponent)
  Game->Player:
  Player->Spaceship:getSpaceship()
  Spaceship->BuildingBoard:getBuildingBoard()
  BuildingBoard->BuildingBoard: setHandComponent(pickedComponent)
  BuildingBoard->Component:getImgSrc()

  Server->Client: PickedComponentMessage(imgSrcComponent)

else PickBookedComponent

  Client-->Server:"PickBookedComponent", idxBookedComponent
  Server->Player:
  Player->Spaceship:getSpaceship()
  Spaceship->BuildingBoard:getBuildingBoard()
  BuildingBoard->BuildingBoard: pickBookedComponent(idx)
  BuildingBoard->Component:getImgSrc()
  
  Server->Client: PickedComponentMessage(imgSrcComponent)
  
end


space
note over Client, Server: Player has three choices: pick an hidden component, pick a visible component or pick a booked component.\nIn the first case, the chosen component is removed from component deck and set as hand component.\nIn the second case, the chosen component is removed from visible component deck and set as hand component.\nIn the third case, the chosen component is removed from booked component array and set as hand component.