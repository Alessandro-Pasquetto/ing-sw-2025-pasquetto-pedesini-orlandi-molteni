title Pick Component

participant Client
participant Server
participant Game
participant Player
participant Spaceship
participant BuildingBoard
participant Component


alt PickHiddenComponent

  Client-->Server:"PickHiddenComponent"
  Server->Game: PickHiddenComponent(player)
  Game->Game: removeFromDeckComponent(randomPos)
  Game->Player:
  Player->Spaceship:getSpaceship()
  Spaceship->BuildingBoard:getBuildingBoard()
  BuildingBoard->BuildingBoard: setHandComponent(pickedComponent)
  BuildingBoard->Component:getImgSrc()

  Server->Client: PickedComponentMessage(imgSrcComponent)

else PickVisibleComponent

  Client-->Server:"PickVisibleComponent", idxVisibleComponent
  Server->Game: PickVisibleComponent(player, idxVisibleComponent)
  Game->Game: removeFromVisibleDeckComponent(idxVisibleComponent)
  Game->Player:
  Player->Spaceship:getSpaceship()
  Spaceship->BuildingBoard:getBuildingBoard()
  BuildingBoard->BuildingBoard: setHandComponent(pickedComponent)
  BuildingBoard->Component:getImgSrc()

  Server->Client: PickedComponentMessage(imgSrcComponent)

else PickBookedComponent

  Client-->Server:"PickBookedComponent", idxBookedComponent
  Server->Player:
  Player->Spaceship:getSpaceship()
  Spaceship->BuildingBoard:getBuildingBoard()
  BuildingBoard->BuildingBoard: pickBookedComponent(idx)
  BuildingBoard->Component:getImgSrc()
  
  Server->Client: PickedComponentMessage(imgSrcComponent)
  
end


space
note over Client, Server: Player selects the component, which is sent to the server by the client.\nThe server then returns the component's image path, allowing the view to display it.